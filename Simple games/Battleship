#include<iostream>
#include<iomanip>
#include<string>
using namespace std;
int turn=1;
char my_arr[4][4];
void my_battle();
int main(){
  int i,j;
  for(i=1;i<=4;i++)
  for(j=1;j<=4;j++)
  my_arr[i][j]='0';

  for(i=1;i<=4;i++){
    for(j=1;j<=4;j++){
        cout<<setw(3)<<my_arr[i][j];
    }
    cout<<"\n";
  }
  my_battle();


  return 0;
}
void my_battle(){
  int row,column;
  cout<<"Let's play our battleship!!!"<<endl;
  cout<<"Where you want to loccate your ship"<<endl;
  cout<<"\nEnter the row"<<endl;
  cin>>row;
  cout<<"\nEnter the column"<<endl;
  cin>>column;
  cout<<"You have 5 chances to find my ship and destroy!!!"<<endl;
  while(1){
    if(turn==6){
      string a;
      cout<<"GAME OVER"<<endl;
      cout<<"My ship located on row:"<<row<<" and on column:"<<column<<endl;
      cout<<"Do you want to play again?YES OR NO"<<endl;
      cin>>a;
      if(a=="YES")
      my_battle();
      else
      break;
    }
    else{
      cout<<"Turn:"<<turn<<endl;
      int guess_row,guess_col;
      string a;
      cout<<"Guess row"<<endl;
      cin>>guess_row;
      cout<<"Guess column"<<endl;
      cin>>guess_col;
      if(guess_row==row && guess_col==column){
        cout<<"Congratulations you destroyed my ship!!!"<<endl;
        cout<<"Do you want to play again?YES OR NO"<<endl;
        cin>>a;
        if(a=="YES")
        my_battle();
        else
        break;
      }
      else if((guess_row<=0 || guess_col>4) ||(guess_row>4 || guess_col<=0)){
        cout<<"Please enter numbers between 1-4"<<endl;
        turn++;
      }
      else if(my_arr[guess_row][guess_col]=='X')
      cout<<"You already guessed these numbers!!!"<<endl;
      else{
        cout<<"You missed"<<endl;
        turn++;
        my_arr[guess_row][guess_col]='X';
        for(int i=1;i<=4;i++){
          for(int j=1;j<=4;j++){
              cout<<setw(3)<<my_arr[i][j];
          }
          cout<<"\n";
        }
      }
    }
  }
}
